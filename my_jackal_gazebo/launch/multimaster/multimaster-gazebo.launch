<?xml version="1.0"?>
<!-- Launch with:
      roslaunch my_jackal_gazebo multimaster-gazebo.launch -p 11311
-->

<launch>
  <!-- Multi master. -->
  <node name="master_discovery" pkg="master_discovery_fkie" type="master_discovery"/>
  <node name="master_sync" pkg="master_sync_fkie" type="master_sync">
    <rosparam param="ignore_topics">['/tf']</rosparam> 
  </node>
  
  <!-- Start Gazebo with an empty world. -->
  <include file="$(find gazebo_ros)/launch/empty_world.launch">
    <arg name="use_sim_time" value="true"/>
    <arg name="debug"        value="false"/>
    <arg name="gui"          value="false"/>
	  <arg name="headless"     value="false"/>
	  <arg name="paused"       value="false"/>
    <arg name="world_name"   value="$(find my_jackal_gazebo)/worlds/empty.world"/>
  </include>
  
  <!-- Synchronise parameters. -->
  <node name="sync_params" pkg="sync_params" type="sync_params" output="screen">
    <rosparam param="blacklist">["/*"]</rosparam>
    <rosparam param="whitelist">["/jackal*"]</rosparam>
    <param name="use_cpp_time" value="true"/>
  </node>  
  
</launch>
